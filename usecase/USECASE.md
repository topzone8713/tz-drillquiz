# DrillQuiz Use Cases

본 문서는 DrillQuiz 시스템의 전체 사용 사례를 정의합니다. 각 Use Case는 E2E 테스트의 기준이 되며, Cursor의 browser 기능을 통해 자동화할 수 있습니다.

## 목차
1. [사용자 관리 Use Cases](#1-사용자-관리-use-cases)
2. [문제 관리 Use Cases](#2-문제-관리-use-cases)
3. [시험 관리 Use Cases](#3-시험-관리-use-cases)
4. [스터디 관리 Use Cases](#4-스터디-관리-use-cases)
5. [학습 및 통계 Use Cases](#5-학습-및-통계-use-cases)
6. [고급 기능 Use Cases](#6-고급-기능-use-cases)
7. [시스템 관리 Use Cases](#7-시스템-관리-use-cases)

---

## 1. 사용자 관리 Use Cases

### UC-1.1: 회원가입 및 초기 설정
**목적**: 새로운 사용자가 시스템에 가입하고 프로필을 설정한다.

**사전 조건**: 
- 브라우저에서 애플리케이션 접근 가능

**단계**:
1. 홈페이지(`/`) 접속
2. "Login" 또는 "Register" 버튼 클릭
3. Register 페이지(`/register`)로 이동
4. 회원가입 정보 입력:
   - Username (필수)
   - Name (필수)
   - Email (필수)
   - Password (필수)
   - Password confirmation (필수)
   - Affiliation (선택)
   - Location (선택)
5. "Register" 버튼 클릭
6. 회원가입 성공 메시지 확인
7. 자동으로 로그인되어 홈페이지로 리다이렉트

**예상 결과**:
- 사용자 계정이 생성됨
- 자동으로 로그인 처리됨
- 홈페이지로 리다이렉트되어 로그인 상태 확인 가능
- 프로필이 기본 설정으로 생성됨

**테스트 데이터**:
```
Username: testuser001
Name: Test User
Email: testuser001@example.com
Password: TestPassword123!
```

---

### UC-1.2: Google OAuth 로그인
**목적**: Google 계정을 통해 간편하게 로그인한다.

**사전 조건**: 
- Google 계정 보유

**단계**:
1. 홈페이지(`/`) 접속
2. "Login" 버튼 클릭
3. Login 페이지(`/login`)로 이동
4. "Login with Google" 버튼 클릭
5. Google OAuth 동의 화면에서 계정 선택
6. 권한 승인
7. 백엔드에서 자동으로 사용자 계정 생성 또는 연결
8. 홈페이지로 리다이렉트

**예상 결과**:
- Google 계정으로 로그인 성공
- 첫 로그인 시 자동으로 계정 생성

---

### UC-1.3: 프로필 관리
**목적**: 사용자가 자신의 프로필 정보를 조회하고 수정한다.

**사전 조건**: 
- 로그인 상태

**단계**:
1. 상단 네비게이션에서 사용자명 클릭
2. "Profile" 메뉴 선택
3. Profile 페이지(`/profile`) 이동
4. 프로필 정보 확인:
   - Username (읽기 전용)
   - Email
   - 언어 설정 (한국어/English)
   - 역할 정보 (읽기 전용)
5. Email 또는 언어 설정 변경
6. "Save Changes" 버튼 클릭
7. 성공 메시지 확인

**예상 결과**:
- 프로필 정보가 업데이트됨
- UI 언어가 선택한 언어로 변경됨 (언어 변경 시)

---

### UC-1.4: 비밀번호 변경
**목적**: 사용자가 비밀번호를 변경한다.

**사전 조건**: 
- 로그인 상태
- 일반 계정 (Google OAuth가 아닌 경우)

**단계**:
1. Profile 페이지(`/profile`) 접속
2. "Change Password" 섹션으로 스크롤
3. 비밀번호 변경 정보 입력:
   - Current Password
   - New Password
   - Confirm New Password
4. "Change Password" 버튼 클릭
5. 성공 메시지 확인
6. 로그아웃
7. 새 비밀번호로 로그인 테스트

**예상 결과**:
- 비밀번호가 성공적으로 변경됨
- 새 비밀번호로 로그인 가능

**테스트 데이터**:
```
Current Password: TestPassword123!
New Password: NewPassword456!
```

---

### UC-1.5: 개인 정보 초기화
**목적**: 사용자의 학습 데이터를 초기화한다.

**사전 조건**: 
- 로그인 상태
- 학습 데이터 존재

**단계**:
1. Profile 페이지(`/profile`) 접속
2. "Data Management" 섹션으로 스크롤
3. "Clear All My Data" 버튼 찾기
4. 버튼 클릭
5. 확인 모달 팝업
6. "Confirm" 버튼 클릭
7. 데이터 삭제 완료 메시지 확인
8. 시험 결과 페이지 확인 (빈 상태여야 함)

**예상 결과**:
- 모든 시험 결과 삭제됨
- 시험 및 스터디는 유지됨
- 사용자 계정은 유지됨

**주의사항**:
- 이 작업은 되돌릴 수 없음

---

### UC-1.6: 회원 탈퇴
**목적**: 사용자가 계정을 완전히 삭제한다.

**사전 조건**: 
- 로그인 상태

**단계**:
1. Profile 페이지(`/profile`) 접속
2. "Account Management" 섹션으로 스크롤
3. "Delete Account" 버튼 찾기
4. 버튼 클릭
5. 확인 모달 팝업
6. 계정 삭제 사유 입력 (선택사항)
7. "Confirm Delete" 버튼 클릭
8. 로그아웃되고 홈페이지로 리다이렉트
9. 삭제된 계정으로 로그인 시도 (실패해야 함)

**예상 결과**:
- 사용자 계정 완전 삭제
- 관련된 모든 데이터 삭제
- 로그인 불가

**주의사항**:
- 이 작업은 되돌릴 수 없음

---

## 2. 문제 관리 Use Cases

### UC-2.1: 문제 파일 업로드
**목적**: Excel 또는 CSV 파일을 업로드하여 대량의 문제를 등록한다.

**사전 조건**: 
- 로그인 상태
- 문제 파일 준비 (Excel 또는 CSV 형식)

**단계**:
1. "Quiz Files" 메뉴 클릭
2. Question Files 페이지(`/question-files`) 이동
3. "Upload File" 버튼 클릭
4. 파일 선택 대화상자에서 문제 파일 선택
5. 파일 정보 입력:
   - Title (파일명)
   - Description (선택사항)
   - Public/Private 설정
   - Language (Korean/English)
6. "Upload" 버튼 클릭
7. 업로드 진행률 확인
8. 성공 메시지 및 업로드된 문제 수 확인
9. 파일 목록에서 업로드된 파일 확인

**예상 결과**:
- 문제 파일이 시스템에 등록됨
- 파일 내의 모든 문제가 Question 테이블에 저장됨
- 파일 목록에 새 파일 표시됨

**테스트 데이터**:
- 샘플 파일: `public/sample_en.xlsx` 또는 `public/sample_kr.xlsx`

---

### UC-2.2: 문제 파일 다운로드
**목적**: 등록된 문제를 Excel 파일로 다운로드한다.

**사전 조건**: 
- 로그인 상태
- 문제 파일이 등록되어 있음

**단계**:
1. Question Files 페이지(`/question-files`) 접속
2. 파일 목록에서 다운로드할 파일 찾기
3. 파일 행의 "Download" 버튼 클릭
4. 브라우저 다운로드 폴더에 파일 저장 확인
5. 다운로드된 파일 열기
6. 문제 내용 확인

**예상 결과**:
- Excel 파일이 다운로드됨
- 파일에 모든 문제 데이터 포함
- 원본 형식과 동일한 구조

---

### UC-2.3: 문제 즐겨찾기 관리
**목적**: 자주 풀고 싶은 문제를 즐겨찾기에 추가하고 관리한다.

**사전 조건**: 
- 로그인 상태
- 시험을 풀고 있거나 완료한 상태

**단계**:
1. 시험 풀기 페이지(`/take-exam/:examId`)에서 문제 확인
2. 문제 카드 우측 상단의 별 아이콘 클릭
3. 즐겨찾기 추가 확인 (아이콘 색상 변경)
4. 여러 문제를 즐겨찾기에 추가
5. 상단 네비게이션에서 "Favorites" 메뉴 클릭
6. Favorites 페이지(`/favorites`) 이동
7. 즐겨찾기한 모든 문제 확인
8. 특정 문제의 즐겨찾기 해제 (별 아이콘 다시 클릭)
9. 즐겨찾기 목록에서 해당 문제 제거 확인

**예상 결과**:
- 즐겨찾기 추가/제거가 즉시 반영됨
- Favorites 페이지에 즐겨찾기한 문제만 표시됨
- 즐겨찾기 시험으로 바로 풀이 가능

---

### UC-2.4: 문제 무시 설정
**목적**: 특정 문제를 학습에서 제외한다.

**사전 조건**: 
- 로그인 상태
- 시험을 풀고 있거나 완료한 상태

**단계**:
1. 시험 풀기 페이지(`/take-exam/:examId`)에서 문제 확인
2. 문제 카드 하단의 "Ignore this question" 버튼 클릭
3. 확인 모달에서 "Confirm" 클릭
4. 문제가 무시 상태로 변경 확인 (시각적 표시)
5. 시험 결과에서 해당 문제가 통계에서 제외됨 확인
6. Profile 페이지에서 무시한 문제 목록 확인
7. 필요시 무시 해제 ("Unignore" 버튼)

**예상 결과**:
- 문제가 무시 목록에 추가됨
- 랜덤 출제 및 일일 시험에서 제외됨
- 통계 계산에서 제외됨
- 언제든지 무시 해제 가능

---

## 3. 시험 관리 Use Cases

### UC-3.1: 시험 생성 (기본)
**목적**: 새로운 시험을 생성한다.

**사전 조건**: 
- 로그인 상태
- 문제 파일이 업로드되어 있음

**단계**:
1. "Exam" 메뉴 클릭
2. Exam Management 페이지(`/exam-management`) 이동
3. "+ Create" 버튼 클릭
4. Create Exam 페이지로 이동
5. 시험 정보 입력:
   - Title (Korean)
   - Title (English)
   - Description (선택사항)
6. "Select Questions" 버튼 클릭
7. 문제 선택 모달에서:
   - 문제 파일 선택
   - 개별 문제 선택 또는 전체 선택
   - "Add Selected" 클릭
8. 추가된 문제 확인 (드래그로 순서 변경 가능)
9. 시험 옵션 설정:
   - Public/Private
   - Force answer input (강제 답안 입력)
   - Enable voice mode (음성 모드)
10. "Create Exam" 버튼 클릭
11. 생성 완료 메시지 확인
12. Exam Management 페이지에서 새 시험 확인

**예상 결과**:
- 새 시험이 생성됨
- 선택한 문제들이 시험에 포함됨
- 시험 목록에 표시됨

**테스트 데이터**:
```
Title (KR): 테스트 시험 001
Title (EN): Test Exam 001
Questions: 10개 선택
Public: Private
Force answer: Enabled
```

---

### UC-3.2: 시험 풀기
**목적**: 등록된 시험을 풀고 결과를 저장한다.

**사전 조건**: 
- 로그인 상태 (또는 공개 시험의 경우 비로그인도 가능)
- 시험이 생성되어 있음

**단계**:
1. Exam Management 페이지에서 시험 선택
2. "Details" 버튼 클릭
3. Exam Detail 페이지(`/exam-detail/:examId`) 이동
4. 시험 정보 확인 (제목, 문제 수, 통과율 등)
5. "Start Exam" 버튼 클릭
6. Take Exam 페이지(`/take-exam/:examId`) 이동
7. 첫 번째 문제 확인
8. 답안 입력:
   - 객관식: 선택지 클릭
   - 주관식: 텍스트 입력
9. "Submit Answer" 버튼 클릭
10. 정답/오답 즉시 확인
11. 해설 및 정답 확인
12. "Next" 버튼으로 다음 문제로 이동
13. 모든 문제 완료 시 결과 페이지 자동 이동
14. 시험 결과 확인:
    - 총점
    - 정답 수 / 오답 수
    - 소요 시간
    - 정답률

**예상 결과**:
- 모든 답안이 저장됨
- 시험 결과가 기록됨
- 통계에 반영됨
- Results 페이지에서 이력 확인 가능

---

### UC-3.3: 재시험 생성
**목적**: 틀린 문제만으로 재시험을 생성한다.

**사전 조건**: 
- 로그인 상태
- 시험을 완료한 상태
- 틀린 문제가 1개 이상 존재

**단계**:
1. Results 페이지(`/results`) 접속
2. 재시험을 만들 시험 결과 선택
3. "Retake Exam" 버튼 클릭
4. 재시험 옵션 선택:
   - Wrong answers only (틀린 문제만)
   - All questions (전체 문제)
5. "Create Retake" 확인
6. 재시험이 자동으로 생성됨
7. Exam Management에서 새 재시험 확인 (제목에 "Retake" 표시)
8. 재시험 시작

**예상 결과**:
- 틀린 문제만으로 구성된 재시험 생성
- 원본 시험과 연결됨 (is_original=False)
- 재시험 풀이 가능

---

### UC-3.4: 시험 구독 및 일일 시험
**목적**: 시험을 구독하여 매일 새로운 문제를 받는다.

**사전 조건**: 
- 로그인 상태
- 시험이 생성되어 있음

**단계**:
1. Exam Management 페이지 접속
2. 구독할 시험 선택
3. "Subscribe" 버튼 클릭 (아이콘 색상 변경 확인)
4. 여러 시험 구독
5. 다음 날 홈페이지 방문
6. "Daily Exam" 카드 또는 버튼 클릭
7. Today's Exam 페이지로 이동
8. 구독한 시험들에서 랜덤으로 선택된 문제들 확인
9. 일일 시험 풀기
10. Profile 페이지에서 구독 목록 확인

**예상 결과**:
- 시험이 구독 목록에 추가됨
- 매일 새로운 일일 시험 생성됨
- 구독한 시험들의 문제가 포함됨
- 구독 관리 가능 (추가/해제)

---

### UC-3.5: 시험 복사 및 수정
**목적**: 기존 시험을 복사하여 새로운 시험을 만든다.

**사전 조건**: 
- 로그인 상태
- 복사할 시험 존재

**단계**:
1. Exam Management 페이지 접속
2. 복사할 시험 선택
3. "Copy" 버튼 클릭
4. 복사본 생성 확인 (제목에 "Copy" 추가)
5. 복사된 시험의 "Details" 버튼 클릭
6. Exam Detail 페이지에서 "Edit" 버튼 클릭
7. 시험 정보 수정:
   - 제목 변경
   - 문제 추가/제거
   - 순서 변경
8. "Save Changes" 버튼 클릭
9. 수정사항 확인

**예상 결과**:
- 원본 시험은 변경되지 않음
- 복사본이 독립적으로 존재
- 복사본 수정 가능
- 원본과 복사본 구분 가능

---

### UC-3.6: 시험 삭제
**목적**: 불필요한 시험을 삭제한다.

**사전 조건**: 
- 로그인 상태
- 삭제할 시험 존재
- 시험 소유자이거나 관리자

**단계**:
1. Exam Management 페이지 접속
2. 삭제할 시험 선택 (체크박스)
3. "Delete" 버튼 클릭
4. 확인 모달 팝업
5. "Confirm Delete" 버튼 클릭
6. 삭제 완료 메시지 확인
7. 시험 목록에서 삭제된 시험 확인 (사라짐)

**예상 결과**:
- 시험이 완전히 삭제됨
- 관련 시험 결과도 삭제됨
- 복구 불가능

**주의사항**:
- 삭제 전 백업 권장
- 스터디 Task와 연결된 시험은 삭제 시 주의

---

## 4. 스터디 관리 Use Cases

### UC-4.1: 스터디 생성
**목적**: 새로운 학습 스터디를 생성한다.

**사전 조건**: 
- 로그인 상태
- 스터디 관리자 권한 (study_admin_role) 또는 일반 사용자

**단계**:
1. "Study" 메뉴 클릭
2. Study Management 페이지(`/study-management`) 이동
3. "+ Create" 버튼 클릭
4. 스터디 정보 입력:
   - Title (Korean)
   - Title (English)
   - Goal/Description (Korean)
   - Goal/Description (English)
   - Start Date
   - End Date (선택사항)
   - Public/Private 설정
5. "Create Study" 버튼 클릭
6. 생성 완료 메시지 확인
7. Study Management에서 새 스터디 확인

**예상 결과**:
- 새 스터디가 생성됨
- 생성자가 자동으로 멤버로 추가됨
- 스터디 목록에 표시됨

**테스트 데이터**:
```
Title (KR): 알고리즘 스터디 2025
Title (EN): Algorithm Study 2025
Goal (KR): LeetCode 150문제 완료
Goal (EN): Complete LeetCode 150 problems
Start Date: 2025-01-01
End Date: 2025-12-31
Public: Private
```

---

### UC-4.2: 스터디에 Task 추가
**목적**: 스터디에 학습 과제(시험)를 추가한다.

**사전 조건**: 
- 로그인 상태
- 스터디가 생성되어 있음
- 추가할 시험이 존재

**단계**:
1. Study Management 페이지 접속
2. 스터디 선택하여 Detail 페이지 이동
3. Study Detail 페이지(`/study-detail/:studyId`)에서 "Add Task" 버튼 클릭
4. Task 정보 입력:
   - Task Name (선택사항)
   - Exam 선택 (드롭다운)
   - Due Date (선택사항)
   - Order (순서)
5. "Add Task" 버튼 클릭
6. Task 목록에 추가 확인
7. 여러 Task 추가 (드래그로 순서 변경 가능)

**예상 결과**:
- Task가 스터디에 추가됨
- Task 목록에 표시됨
- 진행률 계산에 포함됨

---

### UC-4.3: 스터디 멤버 관리
**목적**: 스터디에 멤버를 추가하고 관리한다.

**사전 조건**: 
- 로그인 상태
- 스터디 소유자 또는 관리자
- 추가할 사용자 계정 존재

**단계**:
1. Study Detail 페이지 접속
2. "Members" 탭 클릭
3. "Add Member" 버튼 클릭
4. 멤버 추가 모달에서:
   - Username 또는 Email 입력
   - Role 선택 (Member/Admin)
5. "Add" 버튼 클릭
6. 멤버 목록에 추가 확인
7. 멤버 역할 변경 (필요시)
8. 멤버 제거 테스트:
   - 멤버 선택
   - "Remove" 버튼 클릭
   - 확인

**예상 결과**:
- 멤버가 스터디에 추가됨
- 멤버는 스터디의 Task 확인 가능
- 역할에 따라 권한 차이
- 멤버 제거 가능

---

### UC-4.4: 스터디 가입 요청
**목적**: 공개 스터디에 가입을 요청한다.

**사전 조건**: 
- 로그인 상태
- 공개 스터디 존재
- 해당 스터디의 비멤버

**단계**:
1. Study Management에서 "Public Studies" 필터 선택
2. 가입할 스터디 찾기
3. 스터디 Detail 페이지 이동
4. "Request to Join" 버튼 클릭
5. 가입 요청 메시지 입력 (선택사항)
6. "Submit Request" 버튼 클릭
7. 요청 완료 메시지 확인
8. 스터디 관리자가 승인할 때까지 대기
9. 승인 후 "Members" 목록에 추가 확인

**예상 결과**:
- 가입 요청이 생성됨
- 스터디 관리자에게 알림
- 승인 시 멤버로 추가됨
- 거절 시 알림 받음

---

### UC-4.5: 스터디 진행률 확인
**목적**: 스터디의 학습 진행 상황을 확인한다.

**사전 조건**: 
- 로그인 상태
- 스터디 멤버
- Task가 추가되어 있음

**단계**:
1. Study Management 페이지 접속
2. 진행률을 확인할 스터디 선택
3. "Progress" 컬럼에서 진행률 확인 (예: 45.2%)
4. 스터디 클릭하여 Detail 페이지 이동
5. Study Detail에서 각 Task별 진행률 확인
6. "View Progress Dashboard" 버튼 클릭
7. Study Progress Dashboard 페이지(`/study-progress-dashboard/:studyId`) 이동
8. 대시보드 확인:
   - 전체 진행률
   - 멤버별 진행률
   - Task별 완료 상태
   - 시간별 학습 그래프
9. 특정 멤버 선택하여 개인 진행률 확인

**예상 결과**:
- 실시간 진행률 표시
- 시각적 대시보드 제공
- 멤버별 비교 가능
- Task별 상세 정보 확인

---

## 5. 학습 및 통계 Use Cases

### UC-5.1: 시험 결과 조회
**목적**: 과거 시험 결과를 조회하고 분석한다.

**사전 조건**: 
- 로그인 상태
- 시험을 완료한 이력 존재

**단계**:
1. "Results" 메뉴 클릭 (또는 홈페이지의 Recent Quizzes 섹션)
2. Results 페이지(`/results`) 이동
3. 시험 결과 목록 확인:
   - 시험명
   - 점수
   - 정답/오답 수
   - 완료 날짜
   - 소요 시간
4. 특정 결과 선택하여 상세 보기
5. 문제별 결과 확인:
   - 내가 선택한 답
   - 정답
   - 정답/오답 여부
6. 날짜 필터링 (기간 선택)
7. 시험별 필터링
8. 통계 요약 확인:
   - 평균 점수
   - 총 시험 수
   - 정답률

**예상 결과**:
- 모든 시험 결과 조회 가능
- 상세 분석 정보 제공
- 필터링 및 정렬 가능
- 성장 추이 확인

---

### UC-5.2: 개인 통계 대시보드
**목적**: 사용자의 전체 학습 통계를 확인한다.

**사전 조건**: 
- 로그인 상태
- 학습 데이터 존재

**단계**:
1. Profile 페이지 접속
2. "Statistics" 탭 클릭
3. 통계 정보 확인:
   - 총 시험 수
   - 평균 점수
   - 총 문제 풀이 수
   - 정답률
   - 학습 시간
4. 차트 확인:
   - 시간별 학습량
   - 일별 점수 추이
   - 주제별 정답률
5. 기간 필터 적용 (1주일/1개월/3개월/1년)
6. 약한 주제 확인
7. 추천 학습 계획 확인

**예상 결과**:
- 종합적인 학습 통계 제공
- 시각적 차트로 표시
- 개선이 필요한 영역 식별
- 학습 패턴 분석

---

### UC-5.3: 랜덤 연습 문제
**목적**: 랜덤으로 선택된 문제를 풀어본다.

**사전 조건**: 
- 로그인 상태
- 문제가 등록되어 있음

**단계**:
1. 홈페이지에서 "Random Practice" 카드 클릭
2. Random Practice 페이지(`/random-practice`) 이동
3. 랜덤 문제 설정:
   - 문제 수 선택 (5/10/20/50)
   - 난이도 선택 (Easy/Medium/Hard/All)
   - 주제/태그 선택 (선택사항)
   - 틀린 문제 우선 (옵션)
4. "Start Practice" 버튼 클릭
5. 랜덤 시험 자동 생성
6. Take Exam 페이지로 이동
7. 문제 풀기
8. 결과 확인

**예상 결과**:
- 설정에 맞는 랜덤 문제 선택됨
- 임시 시험으로 생성됨
- 결과가 기록됨
- 반복 학습 가능

---

### UC-5.4: 틀린 문제 복습
**목적**: 과거에 틀린 문제를 다시 풀어본다.

**사전 조건**: 
- 로그인 상태
- 틀린 문제 이력 존재

**단계**:
1. Profile 페이지 접속
2. "Wrong Answers" 섹션 확인
3. 틀린 문제 목록 확인 (정답률 낮은 순 정렬)
4. "Practice Wrong Answers" 버튼 클릭
5. 틀린 문제만으로 구성된 시험 생성
6. 문제 수 선택 (최근 10개/20개/전체)
7. "Start Practice" 버튼 클릭
8. 문제 풀기
9. 결과 확인 및 개선도 비교

**예상 결과**:
- 틀린 문제 위주로 학습
- 약점 보완 효과
- 정답률 향상 추적
- 반복 학습 지원

---

## 6. 고급 기능 Use Cases

### UC-6.1: 음성 모드 시험
**목적**: 음성으로 답변을 입력하고 시험을 푼다.

**사전 조건**: 
- 로그인 상태
- 마이크 권한 허용
- 음성 모드가 활성화된 시험

**단계**:
1. 음성 모드 지원 시험 선택
2. Take Exam 페이지에서 "Voice Mode" 토글 활성화
3. 마이크 권한 요청 승인
4. 문제 읽기 (화면 또는 음성으로)
5. "Start Recording" 버튼 클릭
6. 마이크에 대고 답변 말하기
7. "Stop Recording" 버튼 클릭
8. 음성이 텍스트로 변환됨 확인
9. 변환된 텍스트 확인 및 수정 (필요시)
10. "Submit Answer" 버튼 클릭
11. 다음 문제로 진행
12. 시험 완료 후 녹음 파일 재생 가능

**예상 결과**:
- 음성이 텍스트로 정확하게 변환
- 녹음 파일 저장됨
- 일반 시험과 동일하게 채점
- 음성 파일 다시 듣기 가능

**주의사항**:
- 조용한 환경 권장
- 명확한 발음 필요
- 브라우저 마이크 권한 필요

---

### UC-6.2: AI 모의 인터뷰
**목적**: AI와 실시간 모의 인터뷰를 진행한다.

**사전 조건**: 
- 로그인 상태
- AI 인터뷰 모드가 활성화된 시험
- OpenAI API 키 설정됨 (관리자)

**단계**:
1. AI 인터뷰 지원 시험 선택
2. Take Exam 페이지에서 "AI Interview Mode" 활성화
3. AI 인터뷰어 소개 확인
4. "Start Interview" 버튼 클릭
5. AI가 첫 번째 질문 제시
6. 텍스트 또는 음성으로 답변
7. AI가 답변을 분석하고 추가 질문 또는 피드백 제공
8. 대화형으로 인터뷰 진행
9. 모든 질문 완료
10. AI의 최종 평가 및 피드백 확인
11. 인터뷰 전체 대화 기록 저장
12. 개선점 확인

**예상 결과**:
- 실제 인터뷰와 유사한 경험
- AI의 적절한 질문과 피드백
- 대화 내용 전체 기록
- 평가 점수 및 개선 사항 제공

**주의사항**:
- 인터넷 연결 필요
- API 사용량에 따라 비용 발생 가능

---

### UC-6.3: 태그 기반 학습
**목적**: 특정 주제나 카테고리의 문제를 집중적으로 학습한다.

**사전 조건**: 
- 로그인 상태
- 문제에 태그가 설정되어 있음

**단계**:
1. Exam Management 또는 Study Management 페이지 접속
2. "Tag Filter" 버튼 클릭
3. 태그 선택 모달 팝업
4. 관심 있는 태그 선택:
   - Algorithm
   - DevOps
   - System Design
   - Database
   - Networking
   - 등등
5. 여러 태그 선택 가능 (AND/OR 조건)
6. "Apply Filter" 버튼 클릭
7. 필터링된 시험/스터디 목록 확인
8. 태그별 학습 진행
9. 태그별 통계 확인

**예상 결과**:
- 선택한 태그의 컨텐츠만 표시
- 주제별 집중 학습 가능
- 태그별 진행률 추적
- 태그 조합으로 세밀한 필터링

---

### UC-6.4: 협업 학습 (스터디 그룹)
**목적**: 팀원들과 함께 학습 진도를 공유하고 협업한다.

**사전 조건**: 
- 로그인 상태
- 스터디 멤버
- 여러 멤버가 참여 중

**단계**:
1. Study Detail 페이지 접속
2. "Members" 탭에서 멤버별 진행률 확인
3. "Discussion" 또는 "Comments" 섹션 사용
4. 학습 관련 코멘트 작성
5. 특정 Task나 문제에 대한 토론
6. 멤버 간 학습 자료 공유
7. 진행률 비교 및 동기부여
8. 알림 설정으로 업데이트 받기

**예상 결과**:
- 팀 학습 진행 상황 공유
- 멤버 간 소통 가능
- 협업 학습 효과
- 동기부여 및 경쟁 효과

---

### UC-6.5: 다국어 학습
**목적**: 한국어와 영어로 동일한 컨텐츠를 학습한다.

**사전 조건**: 
- 로그인 상태
- 다국어 컨텐츠 존재

**단계**:
1. Profile 페이지에서 언어 설정 확인
2. 언어를 "English"로 변경
3. UI 및 모든 컨텐츠가 영어로 변경됨 확인
4. 시험을 영어로 풀기
5. Profile 페이지에서 언어를 "한국어"로 변경
6. 동일한 시험을 한국어로 확인
7. 번역 품질 확인
8. 필요시 번역 수정 요청 (관리자에게)

**예상 결과**:
- 언어 전환이 즉시 반영
- 모든 컨텐츠가 선택한 언어로 표시
- 학습 데이터는 언어와 무관하게 유지
- 양쪽 언어로 학습 가능

---

## 7. 시스템 관리 Use Cases

### UC-7.1: 사용자 권한 관리 (관리자)
**목적**: 관리자가 사용자의 역할과 권한을 관리한다.

**사전 조건**: 
- 관리자(admin_role) 계정으로 로그인
- 관리할 사용자 계정 존재

**단계**:
1. "User Management" 메뉴 클릭 (관리자만 표시)
2. User Management 페이지(`/user-management`) 이동
3. 사용자 목록 확인
4. 특정 사용자 선택
5. "Edit Roles" 버튼 클릭
6. 역할 변경:
   - Admin (전체 관리자)
   - Study Admin (스터디 관리자)
   - User (일반 사용자)
7. "Save Changes" 버튼 클릭
8. 권한 변경 확인
9. 사용자 계정 활성화/비활성화 (필요시)

**예상 결과**:
- 사용자 역할이 변경됨
- 변경된 역할에 따라 메뉴 및 기능 접근 제어
- 이력 기록됨

**주의사항**:
- 권한 변경은 신중하게 수행
- 자신의 관리자 권한 제거 주의

---

### UC-7.2: 시스템 데이터 백업 (관리자)
**목적**: 전체 시스템 데이터를 백업한다.

**사전 조건**: 
- 관리자 계정으로 로그인
- 서버 접근 권한

**단계**:
1. User Management 또는 관리자 대시보드 접속
2. "System" 또는 "Settings" 메뉴 클릭
3. "Backup" 섹션으로 이동
4. "Create Backup" 버튼 클릭
5. 백업 옵션 선택:
   - Full backup (전체)
   - Database only
   - Files only
6. "Start Backup" 버튼 클릭
7. 백업 진행 상황 확인
8. 완료 후 다운로드 링크 생성
9. 백업 파일 다운로드
10. 백업 목록에서 이력 확인

**예상 결과**:
- 전체 데이터가 백업됨
- 백업 파일 다운로드 가능
- 백업 이력 기록
- 복원 가능

---

### UC-7.3: 시스템 통계 조회 (관리자)
**목적**: 전체 시스템 사용 통계를 확인한다.

**사전 조건**: 
- 관리자 계정으로 로그인

**단계**:
1. 관리자 대시보드 접속
2. 시스템 통계 확인:
   - 총 사용자 수
   - 활성 사용자 수 (최근 30일)
   - 총 시험 수
   - 총 문제 수
   - 총 스터디 수
   - 일일/주간/월간 사용자 활동
3. 차트 및 그래프 확인
4. 기간별 필터 적용
5. 상세 리포트 다운로드 (CSV/Excel)

**예상 결과**:
- 종합적인 시스템 통계 제공
- 사용 패턴 분석
- 성장 추이 확인
- 리포트 생성 가능

---

## 전체 통합 시나리오

### 통합 시나리오 1: 완전한 학습 플로우
**목적**: 신규 사용자가 가입부터 학습 완료까지 전체 과정을 경험한다.

**단계**:
1. **회원가입** (UC-1.1)
   - 회원가입 → 자동 로그인
   
2. **프로필 설정** (UC-1.3)
   - 언어 설정 (한국어/English)
   
3. **문제 파일 업로드** (UC-2.1)
   - 샘플 파일 업로드
   
4. **시험 생성** (UC-3.1)
   - 업로드한 문제로 첫 시험 생성
   
5. **시험 풀기** (UC-3.2)
   - 생성한 시험 풀이
   - 일부 문제 틀리기 (의도적)
   
6. **즐겨찾기 및 무시** (UC-2.3, UC-2.4)
   - 어려운 문제 즐겨찾기에 추가
   - 너무 쉬운 문제 무시 설정
   
7. **재시험** (UC-3.3)
   - 틀린 문제로 재시험 생성
   - 재시험 풀이
   
8. **스터디 생성** (UC-4.1, UC-4.2)
   - 스터디 그룹 생성
   - 시험을 Task로 추가
   
9. **진행률 확인** (UC-4.5, UC-5.1)
   - 스터디 진행률 확인
   - 개인 통계 확인
   
10. **구독 및 일일 시험** (UC-3.4)
    - 시험 구독 설정
    - 다음 날 일일 시험 풀이

**예상 소요 시간**: 30-45분

---

### 통합 시나리오 2: 협업 학습 플로우
**목적**: 여러 사용자가 함께 스터디를 진행한다.

**단계**:
1. **사용자 A: 스터디 생성** (UC-4.1)
   - 공개 스터디 생성
   - 여러 Task 추가
   
2. **사용자 B: 가입 요청** (UC-4.4)
   - 스터디 찾기
   - 가입 요청
   
3. **사용자 A: 멤버 승인** (UC-4.3)
   - 가입 요청 승인
   
4. **사용자 A & B: 학습** (UC-3.2)
   - 각자 Task 완료
   
5. **진행률 비교** (UC-4.5)
   - 대시보드에서 진행률 비교
   - 토론 및 피드백
   
6. **사용자 C: 멤버 추가** (UC-4.3)
   - 사용자 A가 직접 추가
   
7. **팀 학습 완료**
   - 모든 멤버 Task 완료
   - 최종 통계 확인

**예상 소요 시간**: 1-2시간 (여러 사용자)

---

## 테스트 데이터 세트

### 사용자 계정
```
User 1 (Admin):
- Username: admin_user
- Email: admin@drillquiz.com
- Password: Admin123!
- Role: admin_role

User 2 (Study Admin):
- Username: study_admin
- Email: studyadmin@drillquiz.com
- Password: StudyAdmin123!
- Role: study_admin_role

User 3 (Regular User):
- Username: test_user_001
- Email: user001@drillquiz.com
- Password: User123!
- Role: user_role

User 4 (Regular User):
- Username: test_user_002
- Email: user002@drillquiz.com
- Password: User123!
- Role: user_role
```

### 샘플 시험
```
Exam 1:
- Title: Algorithm Basics
- Questions: 10
- Public: Yes
- Type: Multiple Choice

Exam 2:
- Title: System Design Interview
- Questions: 5
- Public: No
- Type: Essay

Exam 3:
- Title: DevOps Practice
- Questions: 20
- Public: Yes
- Type: Mixed
```

### 샘플 스터디
```
Study 1:
- Title: NeetCode 150 Study
- Goal: Complete all 150 LeetCode problems
- Duration: 3 months
- Public: Yes
- Tasks: 10

Study 2:
- Title: System Design Mastery
- Goal: Master system design interviews
- Duration: 2 months
- Public: No
- Tasks: 5
```

---

## 테스트 체크리스트

각 Use Case를 테스트할 때 다음 사항을 확인:

### 기능 테스트
- [ ] 모든 입력 필드가 정상 작동
- [ ] 버튼 클릭이 예상대로 동작
- [ ] 페이지 이동이 정확함
- [ ] 데이터가 올바르게 저장됨
- [ ] 오류 처리가 적절함

### UI/UX 테스트
- [ ] 로딩 인디케이터 표시
- [ ] 성공/에러 메시지 표시
- [ ] 반응형 디자인 동작
- [ ] 접근성 (키보드 네비게이션)
- [ ] 다국어 지원 확인

### 성능 테스트
- [ ] 페이지 로딩 시간 < 3초
- [ ] API 응답 시간 < 1초
- [ ] 대용량 데이터 처리
- [ ] 동시 사용자 처리

### 보안 테스트
- [ ] 권한 확인 (인증/인가)
- [ ] CSRF 토큰 검증
- [ ] SQL Injection 방어
- [ ] XSS 방어
- [ ] 민감 정보 보호

### 호환성 테스트
- [ ] Chrome
- [ ] Firefox
- [ ] Safari
- [ ] Edge
- [ ] 모바일 브라우저

---

## E2E 테스트 자동화 가이드

### Cursor Browser 기능 사용법

각 Use Case는 다음과 같이 Cursor의 browser 기능으로 자동화할 수 있습니다:

```javascript
// Example: UC-1.1 회원가입 자동화
await browser_navigate('http://localhost:8080/register')
await browser_fill_form([
  { name: 'Username', value: 'testuser001' },
  { name: 'Email', value: 'testuser001@example.com' },
  { name: 'Password', value: 'TestPassword123!' }
])
await browser_click('Register button')
await browser_wait_for(2)
await browser_console_messages() // 에러 확인
```

### 테스트 실행 순서
1. 사용자 관리 Use Cases (UC-1.x)
2. 문제 관리 Use Cases (UC-2.x)
3. 시험 관리 Use Cases (UC-3.x)
4. 스터디 관리 Use Cases (UC-4.x)
5. 학습 및 통계 Use Cases (UC-5.x)
6. 고급 기능 Use Cases (UC-6.x)
7. 시스템 관리 Use Cases (UC-7.x)
8. 통합 시나리오

---

## 문의 및 피드백

테스트 중 발견한 버그나 개선사항은 GitHub Issues에 등록해주세요.

- Repository: https://github.com/doohee323/drillquiz
- Issues: https://github.com/doohee323/drillquiz/issues
